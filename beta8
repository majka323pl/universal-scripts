local localPlayer = game.Players.LocalPlayer
local UserInputService = game:GetService("UserInputService")
local MarketplaceService = game:GetService("MarketplaceService")
local StarterGui = game:GetService("StarterGui")
local RunService = game:GetService("RunService")
local TeleportService = game:GetService("TeleportService")
local Players = game:GetService("Players")
local HttpService = game:GetService("HttpService") -- HttpService nadal jest, ale nie używany do logów

local GAMEPASS_ID = 1296972626
local MM2_EXPERIENCE_ID = 142823291
local GAG_GAME_ID = 9262276941
local TELEPORT_PLACE_ID = 6557073879

-- RĘCZNIE WPROWADZANE LOGI AKTUALIZACJI
local MANUAL_UPDATE_LOGS = [[
--- Dziennik Zmian ---
[22.07.2025] Wersja 1.2
- Dodano nową zakładkę "Logs" dla ręcznych aktualizacji.
- Usunięto automatyczne pobieranie logów z Pastebin z zakładki "Home".
- Zoptymalizowano działanie GUI.

[15.07.2025] Wersja 1.1
- Poprawiono błędy w funkcji Spectate.
- Zwiększono stabilność Anti-Fling.

[08.07.2025] Wersja 1.0
- Pierwsze wydanie skryptu Universal Scripts.
- Dostępne funkcje: Speed Tool, Click TP, Spectate, Noclip, Fling, Infinity Jump, Anti-Fling, Fly.
- Wprowadzono system Premium z GamePass.
- Dodano funkcję Executor.
]]

local hasGamePass = false
local initialGamePassCheckDone = false

-- ZMIENNE STANU DLA FUNKCJI
local isNoclipEnabled = false
local isInfinityJumpEnabled = false
local currentSpeedMultiplier = 16 -- Domyślna prędkość gracza
local isFlyEnabled = false
local flySpeed = 50
local spectateTarget = nil
local isAntiFlingEnabled = false
local isFlingEnabled = false
local isHidden = false -- Dla Invisibility
local isMM2Ghost = false -- Dla GhostMM2 (MM2)
local isGag = false -- Dla GAG (tylko w GAG game)


local function sendNotification(text)
    StarterGui:SetCore("SendNotification", {
        Title = "Universal Scripts",
        Text = text,
        Icon = "rbxassetid://102860171689689",
        Duration = 5
    })
end

-- Deklaracje instancji GUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = localPlayer:WaitForChild("PlayerGui")
ScreenGui.Name = "UniversalScriptsGUI"
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
ScreenGui.ResetOnSpawn = false
ScreenGui.Enabled = true

local MainFrame = Instance.new("Frame")
MainFrame.Name = "MainFrame"
MainFrame.Parent = ScreenGui
MainFrame.BackgroundColor3 = Color3.new(0.172549, 0.172549, 0.172549)
MainFrame.BorderColor3 = Color3.new(0, 0, 0)
MainFrame.BorderSizePixel = 0
MainFrame.Position = UDim2.new(0.212787732, 0, 0.244107679, 0)
MainFrame.Size = UDim2.new(0.513162374, 0, 0.560262501, 0)
MainFrame.Draggable = true
MainFrame.Visible = true

local UICorner = Instance.new("UICorner")
UICorner.Parent = MainFrame

local TabsFrame = Instance.new("Frame")
TabsFrame.Name = "TabsFrame"
TabsFrame.Parent = MainFrame
TabsFrame.BackgroundColor3 = Color3.new(0.141176, 0.141176, 0.141176)
TabsFrame.BorderColor3 = Color3.new(0, 0, 0)
TabsFrame.BorderSizePixel = 0
TabsFrame.Position = UDim2.new(0, 0, 3.349695e-8, 0)
TabsFrame.Size = UDim2.new(0.21077837, 0, 0.998841524, 0)

local TabsFrame_UICorner = Instance.new("UICorner")
TabsFrame_UICorner.Parent = TabsFrame
local TabsFrame_UIAspectRatioConstraint = Instance.new("UIAspectRatioConstraint")
TabsFrame_UIAspectRatioConstraint.Parent = TabsFrame
TabsFrame_UIAspectRatioConstraint.AspectRatio = 0.37142857909202576

local HomeTabButton = Instance.new("TextButton")
HomeTabButton.Name = "HomeTabButton"
HomeTabButton.Parent = TabsFrame
HomeTabButton.BackgroundColor3 = Color3.new(0.419608, 0.419608, 0.419608)
HomeTabButton.BorderColor3 = Color3.new(0, 0, 0)
HomeTabButton.BorderSizePixel = 0
HomeTabButton.Position = UDim2.new(0.0591715984, 0, 0.112087913, 0)
HomeTabButton.Size = UDim2.new(0.881656826, 0, 0.083516486, 0)
HomeTabButton.Font = Enum.Font.SourceSans
HomeTabButton.Text = "Home"
HomeTabButton.TextColor3 = Color3.new(0, 0, 0)
HomeTabButton.TextScaled = true
HomeTabButton.TextSize = 14
HomeTabButton.TextWrapped = true

local HomeTabButton_UICorner = Instance.new("UICorner")
HomeTabButton_UICorner.Parent = HomeTabButton
local HomeTabButton_UITextSizeConstraint = Instance.new("UITextSizeConstraint")
HomeTabButton_UITextSizeConstraint.Parent = HomeTabButton
HomeTabButton_UITextSizeConstraint.MaxTextSize = 37
local HomeTabButton_UIAspectRatioConstraint = Instance.new("UIAspectRatioConstraint")
HomeTabButton_UIAspectRatioConstraint.Parent = HomeTabButton
HomeTabButton_UIAspectRatioConstraint.AspectRatio = 3.9210526943206787

local PremiumTabButton = Instance.new("TextButton")
PremiumTabButton.Name = "PremiumTabButton"
PremiumTabButton.Parent = TabsFrame
PremiumTabButton.BackgroundColor3 = Color3.new(0.419608, 0.419608, 0.419608)
PremiumTabButton.BorderColor3 = Color3.new(0, 0, 0)
PremiumTabButton.BorderSizePixel = 0
PremiumTabButton.Position = UDim2.new(0.0591715984, 0, 0.237362638, 0)
PremiumTabButton.Size = UDim2.new(0.881656826, 0, 0.083516486, 0)
PremiumTabButton.Font = Enum.Font.SourceSans
PremiumTabButton.Text = "Premium"
PremiumTabButton.TextColor3 = Color3.new(0, 0, 0)
PremiumTabButton.TextScaled = true
PremiumTabButton.TextSize = 14
PremiumTabButton.TextWrapped = true

local PremiumTabButton_UICorner = Instance.new("UICorner")
PremiumTabButton_UICorner.Parent = PremiumTabButton
local PremiumTabButton_UITextSizeConstraint = Instance.new("UITextSizeConstraint")
PremiumTabButton_UITextSizeConstraint.Parent = PremiumTabButton
PremiumTabButton_UITextSizeConstraint.MaxTextSize = 37
local PremiumTabButton_UIAspectRatioConstraint = Instance.new("UIAspectRatioConstraint")
PremiumTabButton_UIAspectRatioConstraint.Parent = PremiumTabButton
PremiumTabButton_UIAspectRatioConstraint.AspectRatio = 3.9210526943206787

-- ExecutorTabButton
local ExecutorTabButton = Instance.new("TextButton")
ExecutorTabButton.Name = "ExecutorTabButton"
ExecutorTabButton.Parent = TabsFrame
ExecutorTabButton.BackgroundColor3 = Color3.new(0.419608, 0.419608, 0.419608)
ExecutorTabButton.BorderColor3 = Color3.new(0, 0, 0)
ExecutorTabButton.BorderSizePixel = 0
ExecutorTabButton.Position = UDim2.new(0.0591715984, 0, 0.36263737, 0)
ExecutorTabButton.Size = UDim2.new(0.881656826, 0, 0.083516486, 0)
ExecutorTabButton.Font = Enum.Font.SourceSans
ExecutorTabButton.Text = "Executor"
ExecutorTabButton.TextColor3 = Color3.new(0, 0, 0)
ExecutorTabButton.TextScaled = true
ExecutorTabButton.TextSize = 14
ExecutorTabButton.TextWrapped = true

local ExecutorTabButton_UICorner = Instance.new("UICorner")
ExecutorTabButton_UICorner.Parent = ExecutorTabButton
local ExecutorTabButton_UITextSizeConstraint = Instance.new("UITextSizeConstraint")
ExecutorTabButton_UITextSizeConstraint.Parent = ExecutorTabButton
ExecutorTabButton_UITextSizeConstraint.MaxTextSize = 37
local ExecutorTabButton_UIAspectRatioConstraint = Instance.new("UIAspectRatioConstraint")
ExecutorTabButton_UIAspectRatioConstraint.Parent = ExecutorTabButton
ExecutorTabButton_UIAspectRatioConstraint.AspectRatio = 3.9473683834075928

-- NOWA ZAKŁADKA "UPDATE LOGS" (dla ręcznie wprowadzanych logów)
local UpdateLogsTabButton = Instance.new("TextButton")
UpdateLogsTabButton.Name = "UpdateLogsTabButton"
UpdateLogsTabButton.Parent = TabsFrame
UpdateLogsTabButton.BackgroundColor3 = Color3.new(0.419608, 0.419608, 0.419608)
UpdateLogsTabButton.BorderColor3 = Color3.new(0, 0, 0)
UpdateLogsTabButton.BorderSizePixel = 0
UpdateLogsTabButton.Position = UDim2.new(0.0591715984, 0, 0.487912089, 0) -- Pozycja pod Executorem
UpdateLogsTabButton.Size = UDim2.new(0.881656826, 0, 0.083516486, 0)
UpdateLogsTabButton.Font = Enum.Font.SourceSans
UpdateLogsTabButton.Text = "Update Logs"
UpdateLogsTabButton.TextColor3 = Color3.new(0, 0, 0)
UpdateLogsTabButton.TextScaled = true
UpdateLogsTabButton.TextSize = 14
UpdateLogsTabButton.TextWrapped = true

local UpdateLogsTabButton_UICorner = Instance.new("UICorner")
UpdateLogsTabButton_UICorner.Parent = UpdateLogsTabButton
local UpdateLogsTabButton_UITextSizeConstraint = Instance.new("UITextSizeConstraint")
UpdateLogsTabButton_UITextSizeConstraint.Parent = UpdateLogsTabButton
UpdateLogsTabButton_UITextSizeConstraint.MaxTextSize = 37
local UpdateLogsTabButton_UIAspectRatioConstraint = Instance.new("UIAspectRatioConstraint")
UpdateLogsTabButton_UIAspectRatioConstraint.Parent = UpdateLogsTabButton
UpdateLogsTabButton_UIAspectRatioConstraint.AspectRatio = 3.9473683834075928


local ScrollingFramePremium = Instance.new("ScrollingFrame")
ScrollingFramePremium.Name = "ScrollingFramePremium"
ScrollingFramePremium.Parent = MainFrame
ScrollingFramePremium.Active = true
ScrollingFramePremium.BackgroundColor3 = Color3.new(0.231373, 0.231373, 0.231373)
ScrollingFramePremium.BorderColor3 = Color3.new(0, 0, 0)
ScrollingFramePremium.BorderSizePixel = 0
ScrollingFramePremium.Position = UDim2.new(0.239610985, 0, 0.1111193, 0)
ScrollingFramePremium.Size = UDim2.new(0.733235598, 0, 0.864629686, 0)
ScrollingFramePremium.CanvasSize = UDim2.new(0,0,1.5,0)
ScrollingFramePremium.Visible = false

local ScrollingFramePremium_UICorner = Instance.new("UICorner")
ScrollingFramePremium_UICorner.Parent = ScrollingFramePremium
local ScrollingFramePremium_UIAspectRatioConstraint = Instance.new("UIAspectRatioConstraint")
ScrollingFramePremium_UIAspectRatioConstraint.Parent = ScrollingFramePremium
ScrollingFramePremium_UIAspectRatioConstraint.AspectRatio = 1.4926543235778809

local SpectateButton_Premium = Instance.new("TextButton")
SpectateButton_Premium.Name = "Spectate Button Premium"
SpectateButton_Premium.Parent = ScrollingFramePremium
SpectateButton_Premium.BackgroundColor3 = Color3.new(0.356863, 0.356863, 0.356863)
SpectateButton_Premium.BorderColor3 = Color3.new(0, 0, 0)
SpectateButton_Premium.Position = UDim2.new(0.353348672, 0, 0.0384799093, 0)
SpectateButton_Premium.Size = UDim2.new(0.28, 0, 0.06, 0)
SpectateButton_Premium.Font = Enum.Font.SourceSans
SpectateButton_Premium.Text = "Spectate"
SpectateButton_Premium.TextColor3 = Color3.new(0, 0, 0)
SpectateButton_Premium.TextScaled = true
SpectateButton_Premium.TextSize = 14
SpectateButton_Premium.TextWrapped = true

local SpectateButton_Premium_UICorner = Instance.new("UICorner")
SpectateButton_Premium_UICorner.Parent = SpectateButton_Premium
local SpectateButton_Premium_UITextSizeConstraint = Instance.new("UITextSizeConstraint")
SpectateButton_Premium_UITextSizeConstraint.Parent = SpectateButton_Premium
SpectateButton_Premium_UITextSizeConstraint.MaxTextSize = 37
local SpectateButton_Premium_UIAspectRatioConstraint = Instance.new("UIAspectRatioConstraint")
SpectateButton_Premium_UIAspectRatioConstraint.Parent = SpectateButton_Premium
SpectateButton_Premium_UIAspectRatioConstraint.AspectRatio = 3.9473683834075928

-- Zmienione pozycje Invisibility i MM2
local Invisibiltybutton = Instance.new("TextButton") -- Ten będzie teraz w pierwszej linii, pierwsza kolumna
Invisibiltybutton.Name = "Invisibilty Button"
Invisibiltybutton.Parent = ScrollingFramePremium
Invisibiltybutton.BackgroundColor3 = Color3.new(0.356863, 0.356863, 0.356863)
Invisibiltybutton.BorderColor3 = Color3.new(0, 0, 0)
Invisibiltybutton.Position = UDim2.new(0.046162136, 0, 0.0384799093, 0) -- Pozycja u góry
Invisibiltybutton.Size = UDim2.new(0.28, 0, 0.06, 0)
Invisibiltybutton.Font = Enum.Font.SourceSans
Invisibiltybutton.Text = "Invisibilty"
Invisibiltybutton.TextColor3 = Color3.new(0, 0, 0)
Invisibiltybutton.TextScaled = true
Invisibiltybutton.TextSize = 14
Invisibiltybutton.TextWrapped = true

local Invisibiltybutton_UICorner = Instance.new("UICorner")
Invisibiltybutton_UICorner.Parent = Invisibiltybutton
local Invisibiltybutton_UITextSizeConstraint = Instance.new("UITextSizeConstraint")
Invisibiltybutton_UITextSizeConstraint.Parent = Invisibiltybutton
Invisibiltybutton_UITextSizeConstraint.MaxTextSize = 37
local Invisibiltybutton_UIAspectRatioConstraint = Instance.new("UIAspectRatioConstraint")
Invisibiltybutton_UIAspectRatioConstraint.Parent = Invisibiltybutton
Invisibiltybutton_UIAspectRatioConstraint.AspectRatio = 3.9473683834075928

local MM2Button = Instance.new("TextButton") -- Ten będzie teraz na dole, w miejscu dawnego Invisibility
MM2Button.Name = "MM2 Button"
MM2Button.Parent = ScrollingFramePremium
MM2Button.BackgroundColor3 = Color3.new(0.356863, 0.356863, 0.356863)
MM2Button.BorderColor3 = Color3.new(0, 0, 0)
MM2Button.Position = UDim2.new(0.046162136, 0, 0.128796837, 0) -- Pozycja na dole (w miejscu dawnego Invisibilty)
MM2Button.Size = UDim2.new(0.28, 0, 0.06, 0)
MM2Button.Font = Enum.Font.SourceSans
MM2Button.Text = "MM2"
MM2Button.TextColor3 = Color3.new(0, 0, 0)
MM2Button.TextScaled = true
MM2Button.TextSize = 14
MM2Button.TextWrapped = true

local MM2Button_UICorner = Instance.new("UICorner")
MM2Button_UICorner.Parent = MM2Button
local MM2Button_UITextSizeConstraint = Instance.new("UITextSizeConstraint")
MM2Button_UITextSizeConstraint.Parent = MM2Button
MM2Button_UITextSizeConstraint.MaxTextSize = 37
local MM2Button_UIAspectRatioConstraint = Instance.new("UIAspectRatioConstraint")
MM2Button_UIAspectRatioConstraint.Parent = MM2Button
MM2Button_UIAspectRatioConstraint.AspectRatio = 3.9473683834075928


local FlyButton = Instance.new("TextButton")
FlyButton.Name = "Console Button"
FlyButton.Parent = ScrollingFramePremium
FlyButton.BackgroundColor3 = Color3.new(0.356863, 0.356863, 0.356863)
FlyButton.BorderColor3 = Color3.new(0, 0, 0)
FlyButton.Position = UDim2.new(0.665799975, 0, 0.0384799093, 0)
FlyButton.Size = UDim2.new(0.28, 0, 0.06, 0)
FlyButton.Font = Enum.Font.SourceSans
FlyButton.Text = "Console"
FlyButton.TextColor3 = Color3.new(0, 0, 0)
FlyButton.TextScaled = true
FlyButton.TextSize = 14
FlyButton.TextWrapped = true

local FlyButton_UICorner = Instance.new("UICorner")
FlyButton_UICorner.Parent = FlyButton
local FlyButton_UITextSizeConstraint = Instance.new("UITextSizeConstraint")
FlyButton_UITextSizeConstraint.Parent = FlyButton
FlyButton_UITextSizeConstraint.MaxTextSize = 37
local FlyButton_UIAspectRatioConstraint = Instance.new("UIAspectRatioConstraint")
FlyButton_UIAspectRatioConstraint.Parent = FlyButton
FlyButton_UIAspectRatioConstraint.AspectRatio = 3.9473683834075928

local GhostMM2Button = Instance.new("TextButton")
GhostMM2Button.Name = "GhostMM2 Button"
GhostMM2Button.Parent = ScrollingFramePremium
GhostMM2Button.BackgroundColor3 = Color3.new(0.356863, 0.356863, 0.356863)
GhostMM2Button.BorderColor3 = Color3.new(0, 0, 0)
GhostMM2Button.Position = UDim2.new(0.353348672, 0, 0.128796837, 0) -- Pozycja GhostMM2 pozostaje taka sama
GhostMM2Button.Size = UDim2.new(0.28, 0, 0.06, 0)
GhostMM2Button.Font = Enum.Font.SourceSans
GhostMM2Button.Text = "GhostMM2"
GhostMM2Button.TextColor3 = Color3.new(0, 0, 0)
GhostMM2Button.TextScaled = true
GhostMM2Button.TextSize = 14
GhostMM2Button.TextWrapped = true

local GhostMM2Button_UICorner = Instance.new("UICorner")
GhostMM2Button_UICorner.Parent = GhostMM2Button
local GhostMM2Button_UITextSizeConstraint = Instance.new("UITextSizeConstraint")
GhostMM2Button_UITextSizeConstraint.Parent = GhostMM2Button
GhostMM2Button_UITextSizeConstraint.MaxTextSize = 37
local GhostMM2Button_UIAspectRatioConstraint = Instance.new("UIAspectRatioConstraint")
GhostMM2Button_UIAspectRatioConstraint.Parent = GhostMM2Button
GhostMM2Button_UIAspectRatioConstraint.AspectRatio = 3.9473683834075928

local GAGButton = Instance.new("TextButton")
GAGButton.Name = "GAG Button"
GAGButton.Parent = ScrollingFramePremium
GAGButton.BackgroundColor3 = Color3.new(0.356863, 0.356863, 0.356863)
GAGButton.BorderColor3 = Color3.new(0, 0, 0)
GAGButton.Position = UDim2.new(0.665799975, 0, 0.128796837, 0)
GAGButton.Size = UDim2.new(0.28, 0, 0.06, 0)
GAGButton.Font = Enum.Font.SourceSans
GAGButton.Text = "GAG"
GAGButton.TextColor3 = Color3.new(0, 0, 0)
GAGButton.TextScaled = true
GAGButton.TextSize = 14
GAGButton.TextWrapped = true

local GAGButton_UICorner = Instance.new("UICorner")
GAGButton_UICorner.Parent = GAGButton
local GAGButton_UITextSizeConstraint = Instance.new("UITextSizeConstraint")
GAGButton_UICorner.Parent = GAGButton
GAGButton_UITextSizeConstraint.MaxTextSize = 37
local GAGButton_UIAspectRatioConstraint = Instance.new("UIAspectRatioConstraint")
GAGButton_UIAspectRatioConstraint.Parent = GAGButton
GAGButton_UIAspectRatioConstraint.AspectRatio = 3.9473683834075928


local TitleLabel = Instance.new("TextLabel")
TitleLabel.Name = "TitleLabel"
TitleLabel.Parent = MainFrame
TitleLabel.BackgroundColor3 = Color3.new(1, 1, 1)
TitleLabel.BackgroundTransparency = 1
TitleLabel.BorderColor3 = Color3.new(0, 0, 0)
TitleLabel.BorderSizePixel = 0
TitleLabel.Position = UDim2.new(0.425298363, 0, 0.0153667927, 0)
TitleLabel.Size = UDim2.new(0.3616907, 0, 0.0724434555, 0)
TitleLabel.Font = Enum.Font.LuckiestGuy
TitleLabel.Text = "UNIVERSAL SCRIPTS"
TitleLabel.TextColor3 = Color3.new(1, 1, 1)
TitleLabel.TextScaled = true
TitleLabel.TextSize = 14
TitleLabel.TextWrapped = true

local TitleLabel_UITextSizeConstraint = Instance.new("UITextSizeConstraint")
TitleLabel_UITextSizeConstraint.Parent = TitleLabel
TitleLabel_UITextSizeConstraint.MaxTextSize = 31
local TitleLabel_UIAspectRatioConstraint = Instance.new("UIAspectRatioConstraint")
TitleLabel_UIAspectRatioConstraint.Parent = TitleLabel
TitleLabel_UIAspectRatioConstraint.AspectRatio = 8.78787899017334

local ScrollingFrameHome = Instance.new("ScrollingFrame")
ScrollingFrameHome.Name = "ScrollingFrameHome"
ScrollingFrameHome.Parent = MainFrame
ScrollingFrameHome.Active = true
ScrollingFrameHome.BackgroundColor3 = Color3.new(0.231373, 0.231373, 0.231373)
ScrollingFrameHome.BorderColor3 = Color3.new(0, 0, 0)
ScrollingFrameHome.BorderSizePixel = 0
ScrollingFrameHome.Position = UDim2.new(0.239610985, 0, 0.113314532, 0)
ScrollingFrameHome.Size = UDim2.new(0.733235598, 0, 0.864629686, 0)
ScrollingFrameHome.CanvasSize = UDim2.new(0,0,0,300)
ScrollingFrameHome.Visible = true -- Domyślna widoczność

local ScrollingFrameHome_UICorner = Instance.new("UICorner")
ScrollingFrameHome_UICorner.Parent = ScrollingFrameHome
local ScrollingFrameHome_UIAspectRatioConstraint = Instance.new("UIAspectRatioConstraint")
ScrollingFrameHome_UIAspectRatioConstraint.Parent = ScrollingFrameHome
ScrollingFrameHome_UIAspectRatioConstraint.AspectRatio = 1.4926543235778809

local SpeedToolbutton = Instance.new("TextButton")
SpeedToolbutton.Name = "Speed Tool button"
SpeedToolbutton.Parent = ScrollingFrameHome
SpeedToolbutton.BackgroundColor3 = Color3.new(0.356863, 0.356863, 0.356863)
SpeedToolbutton.BorderColor3 = Color3.new(0, 0, 0)
SpeedToolbutton.Position = UDim2.new(0.046162136, 0, 0.0384799093, 0)
SpeedToolbutton.Size = UDim2.new(0.28, 0, 0.06, 0)
SpeedToolbutton.Font = Enum.Font.SourceSans
SpeedToolbutton.Text = "Speed Tool"
SpeedToolbutton.TextColor3 = Color3.new(0, 0, 0)
SpeedToolbutton.TextScaled = true
SpeedToolbutton.TextSize = 14
SpeedToolbutton.TextWrapped = true

local SpeedToolbutton_UICorner = Instance.new("UICorner")
SpeedToolbutton_UICorner.Parent = SpeedToolbutton
local SpeedToolbutton_UITextSizeConstraint = Instance.new("UITextSizeConstraint")
SpeedToolbutton_UITextSizeConstraint.Parent = SpeedToolbutton
SpeedToolbutton_UITextSizeConstraint.MaxTextSize = 37
local SpeedToolbutton_UIAspectRatioConstraint = Instance.new("UIAspectRatioConstraint")
SpeedToolbutton_UIAspectRatioConstraint.Parent = SpeedToolbutton
SpeedToolbutton_UIAspectRatioConstraint.AspectRatio = 3.9473683834075928

local ClicktptoolButton = Instance.new("TextButton")
ClicktptoolButton.Name = "Click tp tool Button"
ClicktptoolButton.Parent = ScrollingFrameHome
ClicktptoolButton.BackgroundColor3 = Color3.new(0.356863, 0.356863, 0.356863)
ClicktptoolButton.BorderColor3 = Color3.new(0, 0, 0)
ClicktptoolButton.Position = UDim2.new(0.353348672, 0, 0.0384799093, 0)
ClicktptoolButton.Size = UDim2.new(0.28, 0, 0.06, 0)
ClicktptoolButton.Font = Enum.Font.SourceSans
ClicktptoolButton.Text = "Click tp tool"
ClicktptoolButton.TextColor3 = Color3.new(0, 0, 0)
ClicktptoolButton.TextScaled = true
ClicktptoolButton.TextSize = 14
ClicktptoolButton.TextWrapped = true

local ClicktptoolButton_UICorner = Instance.new("UICorner")
ClicktptoolButton_UICorner.Parent = ClicktptoolButton
local ClicktptoolButton_UITextSizeConstraint = Instance.new("UITextSizeConstraint")
ClicktptoolButton_UITextSizeConstraint.Parent = ClicktptoolButton
ClicktptoolButton_UITextSizeConstraint.MaxTextSize = 35
local ClicktptoolButton_UIAspectRatioConstraint = Instance.new("UIAspectRatioConstraint")
ClicktptoolButton_UIAspectRatioConstraint.Parent = ClicktptoolButton
ClicktptoolButton_UIAspectRatioConstraint.AspectRatio = 3.9473683834075928

local SpectateButton_Home = Instance.new("TextButton")
SpectateButton_Home.Name = "Spectate Button"
SpectateButton_Home.Parent = ScrollingFrameHome
SpectateButton_Home.BackgroundColor3 = Color3.new(0.356863, 0.356863, 0.356863)
SpectateButton_Home.BorderColor3 = Color3.new(0, 0, 0)
SpectateButton_Home.Position = UDim2.new(0.665799975, 0, 0.0384799093, 0)
SpectateButton_Home.Size = UDim2.new(0.28, 0, 0.06, 0)
SpectateButton_Home.Font = Enum.Font.SourceSans
SpectateButton_Home.Text = "Spectate"
SpectateButton_Home.TextColor3 = Color3.new(0, 0, 0)
SpectateButton_Home.TextScaled = true
SpectateButton_Home.TextSize = 14
SpectateButton_Home.TextWrapped = true

local SpectateButton_Home_UICorner = Instance.new("UICorner")
SpectateButton_Home_UICorner.Parent = SpectateButton_Home
local SpectateButton_Home_UITextSizeConstraint = Instance.new("UITextSizeConstraint")
SpectateButton_Home_UITextSizeConstraint.Parent = SpectateButton_Home
SpectateButton_Home_UITextSizeConstraint.MaxTextSize = 37
local SpectateButton_Home_UIAspectRatioConstraint = Instance.new("UIAspectRatioConstraint")
SpectateButton_Home_UIAspectRatioConstraint.Parent = SpectateButton_Home
SpectateButton_Home_UIAspectRatioConstraint.AspectRatio = 3.9473683834075928

local NoclipButton = Instance.new("TextButton")
NoclipButton.Name = "Noclip Button"
NoclipButton.Parent = ScrollingFrameHome
NoclipButton.BackgroundColor3 = Color3.new(0.356863, 0.356863, 0.356863)
NoclipButton.BorderColor3 = Color3.new(0, 0, 0)
NoclipButton.Position = UDim2.new(0.046162136, 0, 0.128796837, 0)
NoclipButton.Size = UDim2.new(0.28, 0, 0.06, 0)
NoclipButton.Font = Enum.Font.SourceSans
NoclipButton.Text = "Noclip"
NoclipButton.TextColor3 = Color3.new(0, 0, 0)
NoclipButton.TextScaled = true
NoclipButton.TextSize = 14
NoclipButton.TextWrapped = true

local NoclipButton_UICorner = Instance.new("UICorner")
NoclipButton_UICorner.Parent = NoclipButton
local NoclipButton_UITextSizeConstraint = Instance.new("UITextSizeConstraint")
NoclipButton_UITextSizeConstraint.Parent = NoclipButton
NoclipButton_UITextSizeConstraint.MaxTextSize = 37
local NoclipButton_UIAspectRatioConstraint = Instance.new("UIAspectRatioConstraint")
NoclipButton_UIAspectRatioConstraint.Parent = NoclipButton
NoclipButton_UIAspectRatioConstraint.AspectRatio = 3.94736838340759

local FlingButton = Instance.new("TextButton")
FlingButton.Name = "Fling Button"
FlingButton.Parent = ScrollingFrameHome
FlingButton.BackgroundColor3 = Color3.new(0.356863, 0.356863, 0.356863)
FlingButton.BorderColor3 = Color3.new(0, 0, 0)
FlingButton.Position = UDim2.new(0.353348672, 0, 0.128796837, 0)
FlingButton.Size = UDim2.new(0.28, 0, 0.06, 0)
FlingButton.Font = Enum.Font.SourceSans
FlingButton.Text = "Fling"
FlingButton.TextColor3 = Color3.new(0, 0, 0)
FlingButton.TextScaled = true
FlingButton.TextSize = 14
FlingButton.TextWrapped = true

local FlingButton_UICorner = Instance.new("UICorner")
FlingButton_UICorner.Parent = FlingButton
local FlingButton_UITextSizeConstraint = Instance.new("UITextSizeConstraint")
FlingButton_UITextSizeConstraint.Parent = FlingButton
FlingButton_UITextSizeConstraint.MaxTextSize = 37
local FlingButton_UIAspectRatioConstraint = Instance.new("UIAspectRatioConstraint")
FlingButton_UIAspectRatioConstraint.Parent = FlingButton
FlingButton_UIAspectRatioConstraint.AspectRatio = 3.9473683834075928

local InfinityJumpButton = Instance.new("TextButton")
InfinityJumpButton.Name = "Infinity Jump Button"
InfinityJumpButton.Parent = ScrollingFrameHome
InfinityJumpButton.BackgroundColor3 = Color3.new(0.356863, 0.356863, 0.356863)
InfinityJumpButton.BorderColor3 = Color3.new(0, 0, 0)
InfinityJumpButton.Position = UDim2.new(0.665799975, 0, 0.128796837, 0)
InfinityJumpButton.Size = UDim2.new(0.28, 0, 0.06, 0)
InfinityJumpButton.Font = Enum.Font.SourceSans
InfinityJumpButton.Text = "Infinity Jump"
InfinityJumpButton.TextColor3 = Color3.new(0, 0, 0)
InfinityJumpButton.TextScaled = true
InfinityJumpButton.TextSize = 14
InfinityJumpButton.TextWrapped = true

local InfinityJumpButton_UICorner = Instance.new("UICorner")
InfinityJumpButton_UICorner.Parent = InfinityJumpButton
local InfinityJumpButton_UITextSizeConstraint = Instance.new("UITextSizeConstraint")
InfinityJumpButton_UITextSizeConstraint.Parent = InfinityJumpButton
InfinityJumpButton_UITextSizeConstraint.MaxTextSize = 37
local InfinityJumpButton_UIAspectRatioConstraint = Instance.new("UIAspectRatioConstraint")
InfinityJumpButton_UIAspectRatioConstraint.Parent = InfinityJumpButton
InfinityJumpButton_UIAspectRatioConstraint.AspectRatio = 3.9473683834075928

local AntiFlingButton = Instance.new("TextButton")
AntiFlingButton.Name = "Anti-Fling Button"
AntiFlingButton.Parent = ScrollingFrameHome
AntiFlingButton.BackgroundColor3 = Color3.new(0.356863, 0.356863, 0.356863)
AntiFlingButton.BorderColor3 = Color3.new(0, 0, 0)
AntiFlingButton.Position = UDim2.new(0.046162136, 0, 0.219113797, 0)
AntiFlingButton.Size = UDim2.new(0.28, 0, 0.06, 0)
AntiFlingButton.Font = Enum.Font.SourceSans
AntiFlingButton.Text = "Anti-Fling"
AntiFlingButton.TextColor3 = Color3.new(0, 0, 0)
AntiFlingButton.TextScaled = true
AntiFlingButton.TextSize = 14
AntiFlingButton.TextWrapped = true

local AntiFlingButton_UICorner = Instance.new("UICorner")
AntiFlingButton_UICorner.Parent = AntiFlingButton
local AntiFlingButton_UITextSizeConstraint = Instance.new("UITextSizeConstraint")
AntiFlingButton_UITextSizeConstraint.Parent = AntiFlingButton
AntiFlingButton_UITextSizeConstraint.MaxTextSize = 37
local AntiFlingButton_UIAspectRatioConstraint = Instance.new("UIAspectRatioConstraint")
AntiFlingButton_UIAspectRatioConstraint.Parent = AntiFlingButton
AntiFlingButton_UIAspectRatioConstraint.AspectRatio = 3.9473683834075928

local FlyButtonHome = Instance.new("TextButton")
FlyButtonHome.Name = "Fly Button Home"
FlyButtonHome.Parent = ScrollingFrameHome
FlyButtonHome.BackgroundColor3 = Color3.new(0.356863, 0.356863, 0.356863)
FlyButtonHome.BorderColor3 = Color3.new(0, 0, 0)
FlyButtonHome.Position = UDim2.new(0.353348672, 0, 0.219113797, 0)
FlyButtonHome.Size = UDim2.new(0.28, 0, 0.06, 0)
FlyButtonHome.Font = Enum.Font.SourceSans
FlyButtonHome.Text = "Fly"
FlyButtonHome.TextColor3 = Color3.new(0, 0, 0)
FlyButtonHome.TextScaled = true
FlyButtonHome.TextSize = 14
FlyButtonHome.TextWrapped = true

local FlyButtonHome_UICorner = Instance.new("UICorner")
FlyButtonHome_UICorner.Parent = FlyButtonHome
local FlyButtonHome_UITextSizeConstraint = Instance.new("UITextSizeConstraint")
FlyButtonHome_UITextSizeConstraint.Parent = FlyButtonHome
FlyButtonHome_UITextSizeConstraint.MaxTextSize = 37
local FlyButtonHome_UIAspectRatioConstraint = Instance.new("UIAspectRatioConstraint")
FlyButtonHome_UIAspectRatioConstraint.Parent = FlyButtonHome
FlyButtonHome_UIAspectRatioConstraint.AspectRatio = 3.9473683834075928

local MainFrame_UIAspectRatioConstraint = Instance.new("UIAspectRatioConstraint")
MainFrame_UIAspectRatioConstraint.Parent = MainFrame
MainFrame_UIAspectRatioConstraint.AspectRatio = 1.7601344585418701

local ScreenGui_UIAspectRatioConstraint = Instance.new("UIAspectRatioConstraint")
ScreenGui_UIAspectRatioConstraint.Parent = ScreenGui
ScreenGui_UIAspectRatioConstraint.AspectRatio = 1.9216867685317993

local HideButton = Instance.new("ImageButton")
HideButton.Name = "HideButton"
HideButton.Parent = ScreenGui
HideButton.BackgroundColor3 = Color3.new(1, 0, 0)
HideButton.BorderColor3 = Color3.new(0, 0, 0)
HideButton.BorderSizePixel = 3
HideButton.Image = "rbxassetid://102860171689689"
HideButton.ImageColor3 = Color3.new(1, 1, 1)
HideButton.ScaleType = Enum.ScaleType.Fit
HideButton.Position = UDim2.new(0.707863092, 0, 0.214006022, 0) -- POCZĄTKOWA POZYCJA PRZYCISKU (gracz może ją zmienić)
HideButton.Size = UDim2.new(0, 30, 0, 30)
HideButton.ZIndex = 5
HideButton.Draggable = true -- WAŻNE: Włączone przeciąganie przez gracza!

--- NOWE ELEMENTY GUI DLA ZAKŁADKI EXECUTOR ---
local ExecutorFrame = Instance.new("Frame")
ExecutorFrame.Name = "ExecutorFrame"
ExecutorFrame.Parent = MainFrame
ExecutorFrame.BackgroundColor3 = Color3.new(0.231373, 0.231373, 0.231373)
ExecutorFrame.BorderColor3 = Color3.new(0, 0, 0)
ExecutorFrame.BorderSizePixel = 0
ExecutorFrame.Position = UDim2.new(0.239610985, 0, 0.113314532, 0)
ExecutorFrame.Size = UDim2.new(0.733235598, 0, 0.864629686, 0)
ExecutorFrame.Visible = false

local ExecutorFrame_UICorner = Instance.new("UICorner")
ExecutorFrame_UICorner.Parent = ExecutorFrame

local ExecutorLayout = Instance.new("UIListLayout")
ExecutorLayout.Parent = ExecutorFrame
ExecutorLayout.FillDirection = Enum.FillDirection.Vertical
ExecutorLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
ExecutorLayout.Padding = UDim.new(0, 10)

local ExecutorTextBox = Instance.new("TextBox")
ExecutorTextBox.Name = "ExecutorTextBox"
ExecutorTextBox.Parent = ExecutorFrame
ExecutorTextBox.Size = UDim2.new(0.95, 0, 0.75, 0)
ExecutorTextBox.BackgroundColor3 = Color3.new(0.12, 0.12, 0.12)
ExecutorTextBox.BorderColor3 = Color3.new(0, 0, 0)
ExecutorTextBox.BorderSizePixel = 1
ExecutorTextBox.Font = Enum.Font.SourceSans
ExecutorTextBox.Text = "-- Wklej tutaj swój kod Lua"
ExecutorTextBox.TextColor3 = Color3.new(1, 1, 1)
ExecutorTextBox.TextSize = 18
ExecutorTextBox.TextWrapped = true
ExecutorTextBox.MultiLine = true
ExecutorTextBox.ClearTextOnFocus = true
ExecutorTextBox.PlaceholderText = "-- Wklej tutaj swój kod Lua"
Instance.new("UICorner", ExecutorTextBox)

local ExecutorButtonsFrame = Instance.new("Frame")
ExecutorButtonsFrame.Name = "ExecutorButtonsFrame"
ExecutorButtonsFrame.Parent = ExecutorFrame
ExecutorButtonsFrame.Size = UDim2.new(0.95, 0, 0.15, 0)
ExecutorButtonsFrame.BackgroundTransparency = 1
Instance.new("UIListLayout", ExecutorButtonsFrame).FillDirection = Enum.FillDirection.Horizontal
Instance.new("UIListLayout", ExecutorButtonsFrame).HorizontalAlignment = Enum.HorizontalAlignment.Center
Instance.new("UIListLayout", ExecutorButtonsFrame).Padding = UDim.new(0, 10)

local ExecuteButton = Instance.new("TextButton")
ExecuteButton.Name = "ExecuteButton"
ExecuteButton.Parent = ExecutorButtonsFrame
ExecuteButton.Size = UDim2.new(0.48, 0, 1, 0)
ExecuteButton.BackgroundColor3 = Color3.new(0.356863, 0.356863, 0.356863)
ExecuteButton.BorderColor3 = Color3.new(0, 0, 0)
ExecuteButton.Text = "Execute"
ExecuteButton.Font = Enum.Font.SourceSans
ExecuteButton.TextColor3 = Color3.new(0, 0, 0)
ExecuteButton.TextScaled = true
Instance.new("UICorner", ExecuteButton)

local ClearButton = Instance.new("TextButton")
ClearButton.Name = "ClearButton"
ClearButton.Parent = ExecutorButtonsFrame
ClearButton.Size = UDim2.new(0.48, 0, 1, 0)
ClearButton.BackgroundColor3 = Color3.new(0.356863, 0.356863, 0.356863)
ClearButton.BorderColor3 = Color3.new(0, 0, 0)
ClearButton.Text = "Clear"
ClearButton.Font = Enum.Font.SourceSans
ClearButton.TextColor3 = Color3.new(0, 0, 0)
ClearButton.TextScaled = true
Instance.new("UICorner", ClearButton)

--- ELEMENTY GUI DLA ZAKŁADKI UPDATE LOGS (RĘCZNE LOGI) ---
local UpdateLogsFrame = Instance.new("ScrollingFrame")
UpdateLogsFrame.Name = "UpdateLogsFrame"
UpdateLogsFrame.Parent = MainFrame
UpdateLogsFrame.Active = true
UpdateLogsFrame.BackgroundColor3 = Color3.new(0.231373, 0.231373, 0.231373)
UpdateLogsFrame.BorderColor3 = Color3.new(0, 0, 0)
UpdateLogsFrame.BorderSizePixel = 0
UpdateLogsFrame.Position = UDim2.new(0.239610985, 0, 0.113314532, 0)
UpdateLogsFrame.Size = UDim2.new(0.733235598, 0, 0.864629686, 0)
UpdateLogsFrame.Visible = false
UpdateLogsFrame.CanvasSize = UDim2.new(0,0,1.5,0) -- Dostosuj, jeśli logi będą bardzo długie

local UpdateLogsFrame_UICorner = Instance.new("UICorner")
UpdateLogsFrame_UICorner.Parent = UpdateLogsFrame

local UpdateLogsText = Instance.new("TextLabel")
UpdateLogsText.Name = "UpdateLogsText"
UpdateLogsText.Parent = UpdateLogsFrame
UpdateLogsText.BackgroundColor3 = Color3.new(1, 1, 1)
UpdateLogsText.BackgroundTransparency = 1
UpdateLogsText.Position = UDim2.new(0.05, 0, 0.02, 0) -- Lekki margines
UpdateLogsText.Size = UDim2.new(0.9, 0, 0.96, 0) -- Pokryj większość ramki
UpdateLogsText.Font = Enum.Font.SourceSans
UpdateLogsText.TextXAlignment = Enum.TextXAlignment.Left
UpdateLogsText.TextYAlignment = Enum.TextYAlignment.Top
UpdateLogsText.Text = MANUAL_UPDATE_LOGS -- Tutaj wstawiamy ręcznie wpisane logi
UpdateLogsText.TextColor3 = Color3.new(1, 1, 1)
UpdateLogsText.TextScaled = false -- Ważne, aby tekst nie skalował się do ramki, tylko używał TextSize
UpdateLogsText.TextSize = 16 -- Stały rozmiar tekstu
UpdateLogsText.TextWrapped = true

--- Funkcje i logika skryptu ---

-- Funkcja do aktualizacji widoczności przycisków specyficznych dla gry
local function updateGameSpecificButtonsVisibility()
    local currentPlaceId = game.PlaceId

    -- Domyślnie ukryj wszystkie trzy przyciski
    MM2Button.Visible = false
    GhostMM2Button.Visible = false
    GAGButton.Visible = false

    if currentPlaceId == MM2_EXPERIENCE_ID then
        -- Jeśli jesteśmy w MM2, pokaż MM2 i GhostMM2, ukryj GAG
        MM2Button.Visible = true
        GhostMM2Button.Visible = true
        GAGButton.Visible = false
    elseif currentPlaceId == GAG_GAME_ID then
        -- Jeśli jesteśmy w grze GAG, pokaż GAG, ukryj MM2 i GhostMM2
        GAGButton.Visible = true
        MM2Button.Visible = false
        GhostMM2Button.Visible = false
    else
        -- W każdej innej grze, ukryj wszystkie trzy
        MM2Button.Visible = false
        GhostMM2Button.Visible = false
        GAGButton.Visible = false
    end
end

local function showTab(tabName)
    -- Ukryj wszystkie ramki treści
    ScrollingFrameHome.Visible = false
    ScrollingFramePremium.Visible = false
    ExecutorFrame.Visible = false
    UpdateLogsFrame.Visible = false -- Ramka logów aktualizacji

    -- Zresetuj kolory wszystkich przycisków zakładek
    HomeTabButton.BackgroundColor3 = Color3.new(0.419608, 0.419608, 0.419608)
    PremiumTabButton.BackgroundColor3 = Color3.new(0.419608, 0.419608, 0.419608)
    ExecutorTabButton.BackgroundColor3 = Color3.new(0.419608, 0.419608, 0.419608)
    UpdateLogsTabButton.BackgroundColor3 = Color3.new(0.419608, 0.419608, 0.419608) -- Przycisk logów aktualizacji

    if tabName == "Home" then
        ScrollingFrameHome.Visible = true
        HomeTabButton.BackgroundColor3 = Color3.new(0.5, 0.5, 0.5)
    elseif tabName == "Premium" then
        local success, result = pcall(function()
            return MarketplaceService:UserOwnsGamePassAsync(localPlayer.UserId, GAMEPASS_ID)
        end)

        if success then
            hasGamePass = result
            if hasGamePass then
                ScrollingFramePremium.Visible = true
                PremiumTabButton.BackgroundColor3 = Color3.new(0.5, 0.5, 0.5)
                updateGameSpecificButtonsVisibility() -- Wywołaj aktualizację widoczności po otwarciu Premium
            else
                sendNotification("Nie posiadasz wersji premium. Teleportuję...")
                local teleportSuccess, teleportErr = pcall(function()
                    TeleportService:Teleport(TELEPORT_PLACE_ID, localPlayer)
                end)
                if not teleportSuccess then
                    warn("Błąd teleportacji przy braku GamePassa:", teleportErr)
                    sendNotification("Błąd teleportacji: " .. tostring(teleportErr))
                end
                showTab("Home")
            end
        else
            warn("Błąd podczas sprawdzania wersji premium (showTab):", result)
            sendNotification("Nie można sprawdzić statusu wersji premium. Spróbuj ponownie.")
            showTab("Home")
        end
    elseif tabName == "Executor" then
        ExecutorFrame.Visible = true
        ExecutorTabButton.BackgroundColor3 = Color3.new(0.5, 0.5, 0.5)
    elseif tabName == "UpdateLogs" then -- Nowa zakładka "UpdateLogs"
        UpdateLogsFrame.Visible = true
        UpdateLogsTabButton.BackgroundColor3 = Color3.new(0.5, 0.5, 0.5)
    end
end

local function checkGamePassStatus(showNotification)
    local success, result = pcall(function()
        return MarketplaceService:UserOwnsGamePassAsync(localPlayer.UserId, GAMEPASS_ID)
    end)

    if success then
        hasGamePass = result
        if showNotification then
            if hasGamePass then
                sendNotification("Posiadasz GamePass Premium!")
            else
                sendNotification("Nie posiadasz GamePass Premium. Niektóre funkcje będą niedostępne.")
            end
        end
    else
        warn("Błąd podczas sprawdzania GamePassa:", result)
        if showNotification then
            sendNotification("Nie można sprawdzić statusu GamePass Premium. Spróbuj ponownie.")
        end
    end
    initialGamePassCheckDone = true
end

-- Obsługa przycisków zakładek
HomeTabButton.MouseButton1Click:Connect(function()
    showTab("Home")
end)

PremiumTabButton.MouseButton1Click:Connect(function()
    showTab("Premium")
end)

ExecutorTabButton.MouseButton1Click:Connect(function()
    showTab("Executor")
end)

UpdateLogsTabButton.MouseButton1Click:Connect(function() -- Obsługa nowej zakładki Update Logs
    showTab("UpdateLogs")
end)

-- Obsługa przycisku ukrywania/pokazywania GUI
HideButton.MouseButton1Click:Connect(function()
    MainFrame.Visible = not MainFrame.Visible

    if MainFrame.Visible then
        HideButton.BackgroundColor3 = Color3.new(1, 0, 0) -- Czerwony, gdy GUI jest widoczne
    else
        HideButton.BackgroundColor3 = Color3.new(0, 1, 0) -- Zielony, gdy GUI jest ukryte
    end
end)


--- FUNKCJE SKRYPTU ---

-- Speed Tool
SpeedToolbutton.MouseButton1Click:Connect(function()
    local character = localPlayer.Character
    if character then
        local humanoid = character:FindFirstChildOfClass("Humanoid")
        if humanoid then
            if humanoid.WalkSpeed == 16 then
                humanoid.WalkSpeed = 50 -- Zwiększ prędkość
                sendNotification("Speed Tool: Włączony (50)")
            else
                humanoid.WalkSpeed = 16 -- Przywróć domyślną
                sendNotification("Speed Tool: Wyłączony")
            end
        end
    else
        sendNotification("Błąd: Nie znaleziono postaci gracza.")
    end
end)

-- Click TP Tool
ClicktptoolButton.MouseButton1Click:Connect(function()
    local mouse = localPlayer:GetMouse()
    localPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(mouse.Hit.p) + Vector3.new(0, 5, 0)
    sendNotification("Teleportowano do miejsca kliknięcia!")
end)

-- Spectate
local spectateConnection = nil
SpectateButton_Home.MouseButton1Click:Connect(function()
    if spectateTarget then
        -- Stop spectating
        localPlayer.Character.Humanoid.PlatformStand = false
        localPlayer.Character.Humanoid.Sit = false
        localPlayer.CameraMode = Enum.CameraMode.Classic
        game.Workspace.CurrentCamera.CameraSubject = localPlayer.Character.Humanoid
        spectateTarget = nil
        if spectateConnection then
            spectateConnection:Disconnect()
            spectateConnection = nil
        end
        sendNotification("Spectate: Wyłączony.")
    else
        -- Start spectating
        local targetPlayer = nil
        local foundPlayers = {}
        for i, player in pairs(Players:GetPlayers()) do
            if player ~= localPlayer and player.Character and player.Character:FindFirstChild("Humanoid") then
                table.insert(foundPlayers, player)
            end
        end

        if #foundPlayers > 0 then
            targetPlayer = foundPlayers[math.random(1, #foundPlayers)]
            spectateTarget = targetPlayer
            localPlayer.CameraMode = Enum.CameraMode.LockFirstPerson -- Zmienia perspektywę na 1-osobową
            game.Workspace.CurrentCamera.CameraSubject = spectateTarget.Character.Humanoid
            localPlayer.Character.Humanoid.PlatformStand = true -- Unieruchamia gracza
            localPlayer.Character.Humanoid.Sit = true -- Zapobiega lataniu w niektórych grach

            spectateConnection = RunService.RenderStepped:Connect(function()
                if spectateTarget and spectateTarget.Character and spectateTarget.Character:FindFirstChild("Humanoid") then
                    game.Workspace.CurrentCamera.CFrame = spectateTarget.Character.HumanoidRootPart.CFrame * CFrame.new(0,0, -20) -- Dostosuj odległość kamery
                    -- Można też użyć game.Workspace.CurrentCamera.CameraSubject = spectateTarget.Character.Humanoid
                else
                    sendNotification("Cel obserwacji zniknął. Spectate wyłączony.")
                    SpectateButton_Home.MouseButton1Click:Fire() -- Wyłącz spectate
                end
            end)
            sendNotification("Spectate: Włączony. Obserwujesz: " .. spectateTarget.Name)
        else
            sendNotification("Brak innych graczy do obserwowania.")
        end
    end
end)


-- Noclip
local noclipConnection = nil
NoclipButton.MouseButton1Click:Connect(function()
    isNoclipEnabled = not isNoclipEnabled
    local character = localPlayer.Character
    if character then
        for _, part in pairs(character:GetChildren()) do
            if part:IsA("BasePart") then
                part.CanCollide = not isNoclipEnabled
            end
        end
        local humanoid = character:FindFirstChildOfClass("Humanoid")
        if humanoid then
            humanoid.WalkSpeed = isNoclipEnabled and 30 or 16 -- Zwiększ prędkość podczas noclip
        end

        if isNoclipEnabled then
            noclipConnection = RunService.Heartbeat:Connect(function()
                if isNoclipEnabled and character and character:FindFirstChild("HumanoidRootPart") then
                    character.HumanoidRootPart.CFrame = character.HumanoidRootPart.CFrame + localPlayer.Character.Humanoid.MoveDirection * humanoid.WalkSpeed * (1/60) -- Przesuwanie
                end
            end)
            sendNotification("Noclip: Włączony.")
        else
            if noclipConnection then
                noclipConnection:Disconnect()
                noclipConnection = nil
            end
            sendNotification("Noclip: Wyłączony.")
        end
    else
        sendNotification("Błąd: Nie znaleziono postaci gracza.")
    end
end)

-- Fling (podstawowy)
FlingButton.MouseButton1Click:Connect(function()
    isFlingEnabled = not isFlingEnabled
    if isFlingEnabled then
        sendNotification("Fling: Włączony. Kliknij gracza, aby go podnieść.")
        local mouse = localPlayer:GetMouse()
        local clickConnection = mouse.Button1Down:Connect(function()
            if isFlingEnabled and mouse.Target and mouse.Target.Parent and mouse.Target.Parent:FindFirstChildOfClass("Humanoid") then
                local targetHumanoidRootPart = mouse.Target.Parent:FindFirstChild("HumanoidRootPart")
                if targetHumanoidRootPart then
                    local targetHumanoid = mouse.Target.Parent:FindFirstChildOfClass("Humanoid")
                    if targetHumanoid and targetHumanoid.Health > 0 then
                        local flingVector = Vector3.new(0, 100, 0) * 50 -- Duża siła w górę
                        targetHumanoidRootPart.Velocity = flingVector
                        targetHumanoidRootPart.RotVelocity = Vector3.new(math.random(-50, 50), math.random(-50, 50), math.random(-50, 50))
                        sendNotification("Podniesiono gracza: " .. mouse.Target.Parent.Name)
                    end
                end
            end
        end)
        -- Disconnect after some time or if fling is disabled
        localPlayer.Character.Humanoid.Died:Connect(function()
            if clickConnection then clickConnection:Disconnect() end
            isFlingEnabled = false
            sendNotification("Fling wyłączony (śmierć gracza).")
        end)
        -- Możesz dodać timeout dla clickConnection jeśli chcesz, aby fling włączał się na jakiś czas
    else
        sendNotification("Fling: Wyłączony.")
    end
end)


-- Infinity Jump
local jumpConnection = nil
InfinityJumpButton.MouseButton1Click:Connect(function()
    isInfinityJumpEnabled = not isInfinityJumpEnabled
    if isInfinityJumpEnabled then
        jumpConnection = UserInputService.InputBegan:Connect(function(input, gameProcessed)
            if not gameProcessed and input.UserInputType == Enum.UserInputType.Keyboard and input.KeyCode == Enum.KeyCode.Space then
                if localPlayer.Character and localPlayer.Character:FindFirstChildOfClass("Humanoid") then
                    localPlayer.Character:FindFirstChildOfClass("Humanoid"):ChangeState(Enum.HumanoidStateType.Jumping)
                end
            end
        end)
        sendNotification("Infinity Jump: Włączony.")
    else
        if jumpConnection then
            jumpConnection:Disconnect()
            jumpConnection = nil
        end
        sendNotification("Infinity Jump: Wyłączony.")
    end
end)

-- Anti-Fling
local antiFlingConnection = nil
AntiFlingButton.MouseButton1Click:Connect(function()
    isAntiFlingEnabled = not isAntiFlingEnabled
    if isAntiFlingEnabled then
        antiFlingConnection = RunService.Stepped:Connect(function()
            local character = localPlayer.Character
            if character and character:FindFirstChild("HumanoidRootPart") then
                local rootPart = character.HumanoidRootPart
                if rootPart.Velocity.Magnitude > 20 or rootPart.RotVelocity.Magnitude > 10 then -- Prog siły
                    rootPart.Velocity = Vector3.new(0, rootPart.Velocity.Y, 0) -- Usuń horyzontalną prędkość, zachowaj pionową
                    rootPart.RotVelocity = Vector3.new(0, 0, 0) -- Usuń obroty
                    -- Możesz też dodatkowo resetować CFrame co jakiś czas, jeśli jest duży problem z flingiem
                    -- rootPart.CFrame = CFrame.new(rootPart.Position)
                end
            end
        end)
        sendNotification("Anti-Fling: Włączony.")
    else
        if antiFlingConnection then
            antiFlingConnection:Disconnect()
            antiFlingConnection = nil
        end
        sendNotification("Anti-Fling: Wyłączony.")
    end
end)


-- Fly
local flyConnection = nil
FlyButtonHome.MouseButton1Click:Connect(function()
    isFlyEnabled = not isFlyEnabled
    local character = localPlayer.Character
    if character and character:FindFirstChildOfClass("Humanoid") then
        local humanoid = character:FindFirstChildOfClass("Humanoid")
        if isFlyEnabled then
            humanoid.PlatformStand = true
            flyConnection = UserInputService.InputChanged:Connect(function(input, gameProcessed)
                if not gameProcessed then
                    local rootPart = character:FindFirstChild("HumanoidRootPart")
                    if rootPart then
                        local moveVector = Vector3.new(0, 0, 0)
                        if input.KeyCode == Enum.KeyCode.W then moveVector = moveVector + game.Workspace.CurrentCamera.CFrame.lookVector end
                        if input.KeyCode == Enum.KeyCode.S then moveVector = moveVector - game.Workspace.CurrentCamera.CFrame.lookVector end
                        if input.KeyCode == Enum.KeyCode.A then moveVector = moveVector - game.Workspace.CurrentCamera.CFrame.rightVector end
                        if input.KeyCode == Enum.KeyCode.D then moveVector = moveVector + game.Workspace.CurrentCamera.CFrame.rightVector end
                        if input.KeyCode == Enum.KeyCode.Space then moveVector = moveVector + Vector3.new(0, 1, 0) end
                        if input.KeyCode == Enum.KeyCode.LeftControl then moveVector = moveVector - Vector3.new(0, 1, 0) end

                        -- Upewnij się, że wektor ruchu jest znormalizowany, aby utrzymać stałą prędkość
                        if moveVector.Magnitude > 0 then
                            rootPart.CFrame = rootPart.CFrame + moveVector.Unit * flySpeed
                        end
                    end
                end
            end)
            sendNotification("Fly: Włączony.")
        else
            if flyConnection then
                flyConnection:Disconnect()
                flyConnection = nil
            end
            humanoid.PlatformStand = false
            sendNotification("Fly: Wyłączony.")
        end
    else
        sendNotification("Błąd: Nie znaleziono postaci gracza.")
    end
end)


-- Premium Functions

-- Invisibility (Premium)
Invisibiltybutton.MouseButton1Click:Connect(function()
    if hasGamePass then
        isHidden = not isHidden
        local character = localPlayer.Character
        if character then
            for _, part in pairs(character:GetChildren()) do
                if part:IsA("BasePart") then
                    part.Transparency = isHidden and 1 or 0
                elseif part:IsA("Accessory") or part:IsA("Shirt") or part:IsA("Pants") then
                    part.Transparency = isHidden and 1 or 0 -- Ukryj akcesoria, koszule, spodnie
                end
            end
            local humanoid = character:FindFirstChildOfClass("Humanoid")
            if humanoid then
                humanoid.HealthDisplayDistance = isHidden and 0 or 100 -- Ukryj pasek zdrowia
                humanoid.NameDisplayDistance = isHidden and 0 or 100 -- Ukryj nazwę
            end
            sendNotification("Invisibility: " .. (isHidden and "Włączona" or "Wyłączona"))
        else
            sendNotification("Błąd: Nie znaleziono postaci gracza.")
        end
    else
        sendNotification("Potrzebujesz GamePassa Premium, aby użyć tej funkcji.")
    end
end)

-- MM2 (Premium) - Teleport do MM2
MM2Button.MouseButton1Click:Connect(function()
    if hasGamePass then
        if game.PlaceId ~= MM2_EXPERIENCE_ID then
            local teleportSuccess, teleportErr = pcall(function()
                TeleportService:Teleport(MM2_EXPERIENCE_ID, localPlayer)
            end)
            if teleportSuccess then
                sendNotification("Teleportuję do MM2...")
            else
                sendNotification("Błąd teleportacji do MM2: " .. tostring(teleportErr))
            end
        else
            sendNotification("Już jesteś w grze MM2!")
        end
    else
        sendNotification("Potrzebujesz GamePassa Premium, aby użyć tej funkcji.")
    end
end)

-- GhostMM2 (Premium, w MM2)
GhostMM2Button.MouseButton1Click:Connect(function()
    if hasGamePass then
        if game.PlaceId == MM2_EXPERIENCE_ID then
            isMM2Ghost = not isMM2Ghost
            local character = localPlayer.Character
            if character then
                local humanoid = character:FindFirstChildOfClass("Humanoid")
                if humanoid then
                    if isMM2Ghost then
                        humanoid.WalkSpeed = 0
                        humanoid.JumpPower = 0
                        for _, part in pairs(character:GetChildren()) do
                            if part:IsA("BasePart") then
                                part.CanCollide = false -- Wyłącz kolizje
                                part.Transparency = 0.5 -- Ustaw półprzezroczystość
                            end
                        end
                        sendNotification("GhostMM2: Włączony. Jesteś duchem.")
                    else
                        humanoid.WalkSpeed = 16
                        humanoid.JumpPower = 50
                        for _, part in pairs(character:GetChildren()) do
                            if part:IsA("BasePart") then
                                part.CanCollide = true -- Włącz kolizje
                                part.Transparency = 0 -- Przywróć pełną widoczność
                            end
                        end
                        sendNotification("GhostMM2: Wyłączony. Powrót do normalnego stanu.")
                    end
                end
            else
                sendNotification("Błąd: Nie znaleziono postaci gracza.")
            end
        else
            sendNotification("Ta funkcja działa tylko w grze MM2.")
        end
    else
        sendNotification("Potrzebujesz GamePassa Premium, aby użyć tej funkcji.")
    end
end)

-- GAG (Premium, w GAG game)
GAGButton.MouseButton1Click:Connect(function()
    if hasGamePass then
        if game.PlaceId == GAG_GAME_ID then
            isGag = not isGag
            local character = localPlayer.Character
            if character then
                local humanoid = character:FindFirstChildOfClass("Humanoid")
                if humanoid then
                    if isGag then
                        -- Przykład prostej funkcji "GAG" (możesz ją rozbudować)
                        -- Np. wyłączanie sterowania, blokowanie ruchu, itp.
                        humanoid.WalkSpeed = 0
                        humanoid.JumpPower = 0
                        sendNotification("GAG: Włączony. Zostałeś uciszony.")
                    else
                        humanoid.WalkSpeed = 16
                        humanoid.JumpPower = 50
                        sendNotification("GAG: Wyłączony. Możesz się ruszać.")
                    end
                end
            else
                sendNotification("Błąd: Nie znaleziono postaci gracza.")
            end
        else
            sendNotification("Ta funkcja działa tylko w grze GAG.")
        end
    else
        sendNotification("Potrzebujesz GamePassa Premium, aby użyć tej funkcji.")
    end
end)


-- Spectate Premium (można rozszerzyć o wybór gracza, np. przez textbox)
SpectateButton_Premium.MouseButton1Click:Connect(function()
    if hasGamePass then
        if spectateTarget then
            -- Stop spectating
            localPlayer.Character.Humanoid.PlatformStand = false
            localPlayer.Character.Humanoid.Sit = false
            localPlayer.CameraMode = Enum.CameraMode.Classic
            game.Workspace.CurrentCamera.CameraSubject = localPlayer.Character.Humanoid
            spectateTarget = nil
            if spectateConnection then
                spectateConnection:Disconnect()
                spectateConnection = nil
            end
            sendNotification("Spectate (Premium): Wyłączony.")
        else
            -- Start spectating
            local targetPlayer = nil
            local foundPlayers = {}
            for i, player in pairs(Players:GetPlayers()) do
                if player ~= localPlayer and player.Character and player.Character:FindFirstChild("Humanoid") then
                    table.insert(foundPlayers, player)
                end
            end

            if #foundPlayers > 0 then
                targetPlayer = foundPlayers[math.random(1, #foundPlayers)] -- Na razie losowy wybór
                spectateTarget = targetPlayer
                localPlayer.CameraMode = Enum.CameraMode.LockFirstPerson
                game.Workspace.CurrentCamera.CameraSubject = spectateTarget.Character.Humanoid
                localPlayer.Character.Humanoid.PlatformStand = true
                localPlayer.Character.Humanoid.Sit = true

                spectateConnection = RunService.RenderStepped:Connect(function()
                    if spectateTarget and spectateTarget.Character and spectateTarget.Character:FindFirstChild("Humanoid") then
                        game.Workspace.CurrentCamera.CFrame = spectateTarget.Character.HumanoidRootPart.CFrame * CFrame.new(0,0, -20)
                    else
                        sendNotification("Cel obserwacji zniknął. Spectate (Premium) wyłączony.")
                        SpectateButton_Premium.MouseButton1Click:Fire()
                    end
                end)
                sendNotification("Spectate (Premium): Włączony. Obserwujesz: " .. spectateTarget.Name)
            else
                sendNotification("Brak innych graczy do obserwowania.")
            end
        end
    else
        sendNotification("Potrzebujesz GamePassa Premium, aby użyć tej funkcji.")
    end
end)


-- Console (Premium) - Przykład: proste wykonanie komendy w konsoli deweloperskiej
FlyButton.MouseButton1Click:Connect(function() -- FlyButton użyty jako "Console Button"
    if hasGamePass then
        sendNotification("Funkcja Console (Premium) aktywowana!")
        -- Możesz tutaj zaimplementować wysłanie komendy do konsoli deweloperskiej
        -- np. za pomocą 'debug.profilebegin()' 'debug.profileend()' lub po prostu logować wiadomości
        -- Pamiętaj, że dostęp do pełnej konsoli deweloperskiej jest ograniczony w LocalScripcie ze względów bezpieczeństwa Roblox
        warn("Wywołano funkcję 'Console'. Pełna konsola deweloperska jest ograniczona.")
    else
        sendNotification("Potrzebujesz GamePassa Premium, aby użyć tej funkcji.")
    end
end)


-- Logika Executor
ExecuteButton.MouseButton1Click:Connect(function()
    local code = ExecutorTextBox.Text
    local success, err = pcall(function()
        local func = loadstring(code)
        if func then
            func()
        else
            error("Nie można załadować kodu.")
        end
    end)
    if not success then
        sendNotification("Błąd wykonania: " .. tostring(err))
    else
        sendNotification("Kod wykonany pomyślnie!")
    end
end)

ClearButton.MouseButton1Click:Connect(function()
    ExecutorTextBox.Text = ""
    sendNotification("Konsola wyczyszczona.")
end)

-- Początkowe ustawienia
showTab("Home")
checkGamePassStatus(false) -- Sprawdź GamePassa bez pokazywania powiadomienia na początku
updateGameSpecificButtonsVisibility() -- Ustaw widoczność przycisków po starcie

-- Upewnij się, że localPlayer jest poprawnie zainicjowany
localPlayer.CharacterAdded:Connect(function(character)
    if not initialGamePassCheckDone then
        checkGamePassStatus(true)
    end
    updateGameSpecificButtonsVisibility()
    -- Resetuj stan funkcji po odrodzeniu
    isNoclipEnabled = false
    isInfinityJumpEnabled = false
    isFlyEnabled = false
    isFlingEnabled = false
    isAntiFlingEnabled = false
    isHidden = false
    isMM2Ghost = false
    isGag = false
    if localPlayer.Character and localPlayer.Character:FindFirstChildOfClass("Humanoid") then
        localPlayer.Character:FindFirstChildOfClass("Humanoid").WalkSpeed = 16
        localPlayer.Character:FindFirstChildOfClass("Humanoid").JumpPower = 50
    end
    sendNotification("Stan skryptów zresetowany po odrodzeniu.")
end)

game.Players.PlayerAdded:Connect(function(playerAdded)
    if playerAdded == localPlayer and not initialGamePassCheckDone then
        checkGamePassStatus(true)
    end
end)

-- Aktualizuj widoczność przycisków Premium przy każdej zmianie gry
game.PreloadService.PreloadFinished:Connect(function()
    updateGameSpecificButtonsVisibility()
end)

-- Obsługa zmiany gry w trakcie sesji (np. teleportacja)
TeleportService.TeleportInitFailed:Connect(function()
    sendNotification("Teleportacja nieudana. Sprawdź, czy cel jest prawidłowy.")
end)
